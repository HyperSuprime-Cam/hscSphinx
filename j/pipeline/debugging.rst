.. _jp_debugging:

=========
デバッグ
=========

もしHSCパイプラインのコマンドを実行した際にエラーに遭遇した場合、
以下の方法でデバッグをかけることができます。この他、
何か特定のエラーが出た場合は :ref:`エラーメッセージ <errormessages>` を参照してください。

#. TORQUE job では jobname.nodename.NNNNN という形式で ``stdout`` 
   ファイルが出力されます。Jobname はコマンドを実行する際に ``--job foo`` 
   オプションで設定したものです。Nodename は出力をファイルに送る node で
   （``analysisNN`` と呼ばれており、NN は 01 から 40 の数字）、NNNNN は
   計算機の job スケジューラーに登録された数字です。
   もし実行した job の挙動がおかしいと感じたら、jobname.nodename.NNNNN
   ファイルを開き、ログファイルを確認しましょう。

#. もし TORQUE の出力ファイル内の情報ではデバッグが不十分だった場合、
   ``--do-exec`` オプションを追加してバッチ処理の形式で job を実行し直してみてください。
   ただし、バッチ処理には大量の計算機容量を使用するため、
   まず最初は問題を再現するような小さなデータセットで job を実行するとよいでしょう。
   この時、特定の visit の指定には ``..`` , ``:`` , ``^`` が使用できます。
   例えば ``--id visit=1234..1244:2 ccd=50`` （CCD 番号 50 で、
   1234 から 1244 まで 2 つ飛ばしの visit 番号のデータ）や、
   ``--id visit=1234^1244 ccd=40..60`` （CCD 番号 40 から 60 で、
   1234 と 1244 の visit 番号のデータ）のように使用できます。
   
   


